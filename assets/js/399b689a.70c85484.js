"use strict";(globalThis.webpackChunkbook_website=globalThis.webpackChunkbook_website||[]).push([[8938],{5043:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"module-2/gazebo-basics","title":"Gazebo Basics","description":"Getting started with Gazebo: installation, world creation, robot modeling with SDF/URDF.","source":"@site/docs/module-2/gazebo-basics.md","sourceDirName":"module-2","slug":"/module-2/gazebo-basics","permalink":"/physical-ai-robotics-book/docs/module-2/gazebo-basics","draft":false,"unlisted":false,"editUrl":"https://github.com/fun33333/physical-ai-robotics-book/tree/main/book-website/docs/module-2/gazebo-basics.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Gazebo Basics","sidebar_position":3,"description":"Getting started with Gazebo: installation, world creation, robot modeling with SDF/URDF."},"sidebar":"tutorialSidebar","previous":{"title":"Simulation Fundamentals","permalink":"/physical-ai-robotics-book/docs/module-2/simulation-fundamentals"},"next":{"title":"Gazebo-ROS 2 Integration","permalink":"/physical-ai-robotics-book/docs/module-2/gazebo-ros2-integration"}}');var r=i(4848),l=i(8453);const t={title:"Gazebo Basics",sidebar_position:3,description:"Getting started with Gazebo: installation, world creation, robot modeling with SDF/URDF."},o="Gazebo Basics",a={},d=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installing Gazebo",id:"installing-gazebo",level:2},{value:"Gazebo Harmonic (Recommended for ROS 2 Humble)",id:"gazebo-harmonic-recommended-for-ros-2-humble",level:3},{value:"First Launch",id:"first-launch",level:3},{value:"Gazebo Architecture",id:"gazebo-architecture",level:2},{value:"Core Components",id:"core-components",level:3},{value:"Headless Mode",id:"headless-mode",level:3},{value:"Simulation Description Format (SDF)",id:"simulation-description-format-sdf",level:2},{value:"World Structure",id:"world-structure",level:3},{value:"Key SDF Elements",id:"key-sdf-elements",level:3},{value:"Creating Robot Models",id:"creating-robot-models",level:2},{value:"URDF for ROS 2 Robots",id:"urdf-for-ros-2-robots",level:3},{value:"Converting URDF to SDF",id:"converting-urdf-to-sdf",level:3},{value:"Visualizing URDF in RViz2",id:"visualizing-urdf-in-rviz2",level:3},{value:"Adding Sensors",id:"adding-sensors",level:2},{value:"Camera Sensor",id:"camera-sensor",level:3},{value:"LiDAR Sensor",id:"lidar-sensor",level:3},{value:"IMU Sensor",id:"imu-sensor",level:3},{value:"Gazebo Plugins",id:"gazebo-plugins",level:2},{value:"Differential Drive Plugin",id:"differential-drive-plugin",level:3},{value:"Joint State Publisher",id:"joint-state-publisher",level:3},{value:"Exercise 1: Build Your First Gazebo World",id:"exercise-1-build-your-first-gazebo-world",level:2},{value:"Exercise 2: Create a Two-Wheeled Robot",id:"exercise-2-create-a-two-wheeled-robot",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Debugging Commands",id:"debugging-commands",level:3},{value:"Summary",id:"summary",level:2},{value:"Further Reading",id:"further-reading",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"gazebo-basics",children:"Gazebo Basics"})}),"\n",(0,r.jsx)(n.p,{children:"Gazebo has been the standard robotics simulator for over a decade, and the new Gazebo (formerly Ignition Gazebo) brings modern architecture, improved rendering, and better scalability. This chapter covers everything you need to start building simulations in Gazebo."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"In this section, you will:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Install and configure Gazebo Harmonic for ROS 2 Humble"}),"\n",(0,r.jsx)(n.li,{children:"Understand the Gazebo architecture and GUI"}),"\n",(0,r.jsx)(n.li,{children:"Create simulation worlds using SDF (Simulation Description Format)"}),"\n",(0,r.jsx)(n.li,{children:"Build robot models with URDF and convert to SDF"}),"\n",(0,r.jsx)(n.li,{children:"Add sensors including cameras, LiDAR, and IMUs"}),"\n",(0,r.jsx)(n.li,{children:"Use Gazebo plugins to extend functionality"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"Before starting, ensure you have:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/module-1",children:"Module 1: ROS 2 Fundamentals"})," completed"]}),"\n",(0,r.jsx)(n.li,{children:"Ubuntu 22.04 (native or WSL2)"}),"\n",(0,r.jsx)(n.li,{children:"At least 8GB RAM and 20GB disk space"}),"\n",(0,r.jsx)(n.li,{children:"GPU recommended but not required"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"installing-gazebo",children:"Installing Gazebo"}),"\n",(0,r.jsx)(n.h3,{id:"gazebo-harmonic-recommended-for-ros-2-humble",children:"Gazebo Harmonic (Recommended for ROS 2 Humble)"}),"\n",(0,r.jsx)(n.p,{children:"Gazebo Harmonic is the latest LTS release compatible with ROS 2 Humble:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Install Gazebo Harmonic"',children:'# Add Gazebo repository\nsudo wget https://packages.osrfoundation.org/gazebo.gpg -O /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntu-stable $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/gazebo-stable.list > /dev/null\n\n# Install Gazebo Harmonic\nsudo apt update\nsudo apt install gz-harmonic\n\n# Install ROS 2 integration packages\nsudo apt install ros-humble-ros-gz\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Verify installation:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"gz sim --version\n# Expected: Gazebo Sim, version 8.x.x\n"})}),"\n",(0,r.jsx)(n.h3,{id:"first-launch",children:"First Launch"}),"\n",(0,r.jsx)(n.p,{children:"Launch Gazebo with a sample world:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"gz sim shapes.sdf\n"})}),"\n",(0,r.jsx)(n.p,{children:"You should see a world with basic geometric shapes (box, sphere, cylinder)."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"gazebo-architecture",children:"Gazebo Architecture"}),"\n",(0,r.jsx)(n.h3,{id:"core-components",children:"Core Components"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      Gazebo Architecture                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                  \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502   \u2502   Server     \u2502    \u2502   GUI        \u2502    \u2502   Plugins    \u2502     \u2502\n\u2502   \u2502  (Physics)   \u2502\u25c4\u2500\u2500\u25ba\u2502  (Rendering) \u2502\u25c4\u2500\u2500\u25ba\u2502  (Custom)    \u2502     \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502          \u2502                   \u2502                   \u2502              \u2502\n\u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2502                              \u2502                                   \u2502\n\u2502                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n\u2502                     \u2502   gz Transport   \u2502                         \u2502\n\u2502                     \u2502   (Messaging)    \u2502                         \u2502\n\u2502                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                         \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Component"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Server"})}),(0,r.jsx)(n.td,{children:"Runs physics simulation, handles collisions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"GUI"})}),(0,r.jsx)(n.td,{children:"Renders 3D scene, provides user interface"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Plugins"})}),(0,r.jsx)(n.td,{children:"Extend functionality (sensors, controllers)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Transport"})}),(0,r.jsx)(n.td,{children:"Internal messaging between components"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"headless-mode",children:"Headless Mode"}),"\n",(0,r.jsx)(n.p,{children:"For training and CI/CD, run without GUI:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Headless simulation (no rendering)\ngz sim -s shapes.sdf\n\n# With specific physics step size\ngz sim -s --physics-rate=1000 shapes.sdf\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"simulation-description-format-sdf",children:"Simulation Description Format (SDF)"}),"\n",(0,r.jsx)(n.p,{children:"SDF is Gazebo's native format for describing worlds and models. It's more expressive than URDF and supports complete simulation configuration."}),"\n",(0,r.jsx)(n.h3,{id:"world-structure",children:"World Structure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="my_world.sdf"',children:'<?xml version="1.0" ?>\n<sdf version="1.9">\n  <world name="my_world">\n    \x3c!-- Physics configuration --\x3e\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1.0</real_time_factor>\n    </physics>\n\n    \x3c!-- Lighting --\x3e\n    <light type="directional" name="sun">\n      <cast_shadows>true</cast_shadows>\n      <pose>0 0 10 0 0 0</pose>\n      <diffuse>0.8 0.8 0.8 1</diffuse>\n      <specular>0.2 0.2 0.2 1</specular>\n      <direction>-0.5 0.1 -0.9</direction>\n    </light>\n\n    \x3c!-- Ground plane --\x3e\n    <model name="ground_plane">\n      <static>true</static>\n      <link name="link">\n        <collision name="collision">\n          <geometry>\n            <plane>\n              <normal>0 0 1</normal>\n              <size>100 100</size>\n            </plane>\n          </geometry>\n        </collision>\n        <visual name="visual">\n          <geometry>\n            <plane>\n              <normal>0 0 1</normal>\n              <size>100 100</size>\n            </plane>\n          </geometry>\n          <material>\n            <ambient>0.8 0.8 0.8 1</ambient>\n          </material>\n        </visual>\n      </link>\n    </model>\n\n    \x3c!-- Include a robot model --\x3e\n    <include>\n      <uri>model://my_robot</uri>\n      <pose>0 0 0.5 0 0 0</pose>\n    </include>\n\n  </world>\n</sdf>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"key-sdf-elements",children:"Key SDF Elements"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Element"}),(0,r.jsx)(n.th,{children:"Purpose"}),(0,r.jsx)(n.th,{children:"Example"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<world>"})}),(0,r.jsx)(n.td,{children:"Top-level container"}),(0,r.jsx)(n.td,{children:"Contains all models, lights, physics"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<model>"})}),(0,r.jsx)(n.td,{children:"A simulated object"}),(0,r.jsx)(n.td,{children:"Robot, obstacle, sensor"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<link>"})}),(0,r.jsx)(n.td,{children:"Rigid body with mass"}),(0,r.jsx)(n.td,{children:"Base link, wheel, arm"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<joint>"})}),(0,r.jsx)(n.td,{children:"Connection between links"}),(0,r.jsx)(n.td,{children:"Revolute, prismatic, fixed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<collision>"})}),(0,r.jsx)(n.td,{children:"Physics collision geometry"}),(0,r.jsx)(n.td,{children:"Simplified shapes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<visual>"})}),(0,r.jsx)(n.td,{children:"Rendered appearance"}),(0,r.jsx)(n.td,{children:"Detailed meshes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<sensor>"})}),(0,r.jsx)(n.td,{children:"Simulated sensor"}),(0,r.jsx)(n.td,{children:"Camera, LiDAR, IMU"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<plugin>"})}),(0,r.jsx)(n.td,{children:"Custom behavior"}),(0,r.jsx)(n.td,{children:"Controllers, bridges"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"creating-robot-models",children:"Creating Robot Models"}),"\n",(0,r.jsx)(n.h3,{id:"urdf-for-ros-2-robots",children:"URDF for ROS 2 Robots"}),"\n",(0,r.jsx)(n.p,{children:"While Gazebo uses SDF, most ROS 2 robots are defined in URDF. Gazebo automatically converts URDF to SDF."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="simple_robot.urdf"',children:'<?xml version="1.0"?>\n<robot name="simple_robot">\n  \x3c!-- Base link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.5 0.3 0.1"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 0.8 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.5 0.3 0.1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="5.0"/>\n      <inertia ixx="0.05" ixy="0" ixz="0"\n               iyy="0.1" iyz="0" izz="0.1"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Left wheel --\x3e\n  <link name="left_wheel">\n    <visual>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n      <material name="black">\n        <color rgba="0.1 0.1 0.1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.5"/>\n      <inertia ixx="0.001" ixy="0" ixz="0"\n               iyy="0.001" iyz="0" izz="0.002"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Left wheel joint --\x3e\n  <joint name="left_wheel_joint" type="continuous">\n    <parent link="base_link"/>\n    <child link="left_wheel"/>\n    <origin xyz="0 0.175 0" rpy="-1.5707 0 0"/>\n    <axis xyz="0 0 1"/>\n  </joint>\n\n  \x3c!-- Right wheel (similar structure) --\x3e\n  <link name="right_wheel">\n    <visual>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n      <material name="black">\n        <color rgba="0.1 0.1 0.1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.5"/>\n      <inertia ixx="0.001" ixy="0" ixz="0"\n               iyy="0.001" iyz="0" izz="0.002"/>\n    </inertial>\n  </link>\n\n  <joint name="right_wheel_joint" type="continuous">\n    <parent link="base_link"/>\n    <child link="right_wheel"/>\n    <origin xyz="0 -0.175 0" rpy="-1.5707 0 0"/>\n    <axis xyz="0 0 1"/>\n  </joint>\n\n  \x3c!-- Caster wheel --\x3e\n  <link name="caster">\n    <visual>\n      <geometry>\n        <sphere radius="0.05"/>\n      </geometry>\n    </visual>\n    <collision>\n      <geometry>\n        <sphere radius="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.1"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0"\n               iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="caster_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="caster"/>\n    <origin xyz="-0.2 0 -0.05"/>\n  </joint>\n</robot>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"converting-urdf-to-sdf",children:"Converting URDF to SDF"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Convert URDF to SDF for inspection\ngz sdf -p simple_robot.urdf > simple_robot.sdf\n"})}),"\n",(0,r.jsx)(n.h3,{id:"visualizing-urdf-in-rviz2",children:"Visualizing URDF in RViz2"}),"\n",(0,r.jsx)(n.p,{children:"Before simulation, verify your URDF in RViz2:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Install visualization tools\nsudo apt install ros-humble-urdf-tutorial\n\n# View URDF\nros2 launch urdf_tutorial display.launch.py model:=simple_robot.urdf\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"adding-sensors",children:"Adding Sensors"}),"\n",(0,r.jsx)(n.h3,{id:"camera-sensor",children:"Camera Sensor"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="Adding a camera to URDF"',children:'\x3c!-- Camera link --\x3e\n<link name="camera_link">\n  <visual>\n    <geometry>\n      <box size="0.02 0.05 0.02"/>\n    </geometry>\n  </visual>\n  <inertial>\n    <mass value="0.01"/>\n    <inertia ixx="0.00001" ixy="0" ixz="0"\n             iyy="0.00001" iyz="0" izz="0.00001"/>\n  </inertial>\n</link>\n\n<joint name="camera_joint" type="fixed">\n  <parent link="base_link"/>\n  <child link="camera_link"/>\n  <origin xyz="0.25 0 0.05" rpy="0 0 0"/>\n</joint>\n\n\x3c!-- Gazebo camera sensor --\x3e\n<gazebo reference="camera_link">\n  <sensor name="camera" type="camera">\n    <always_on>true</always_on>\n    <update_rate>30</update_rate>\n    <camera>\n      <horizontal_fov>1.047</horizontal_fov>\n      <image>\n        <width>640</width>\n        <height>480</height>\n        <format>R8G8B8</format>\n      </image>\n      <clip>\n        <near>0.1</near>\n        <far>100</far>\n      </clip>\n    </camera>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"lidar-sensor",children:"LiDAR Sensor"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="Adding LiDAR to URDF"',children:'<link name="lidar_link">\n  <visual>\n    <geometry>\n      <cylinder radius="0.05" length="0.04"/>\n    </geometry>\n    <material name="dark_grey">\n      <color rgba="0.2 0.2 0.2 1"/>\n    </material>\n  </visual>\n  <inertial>\n    <mass value="0.2"/>\n    <inertia ixx="0.0001" ixy="0" ixz="0"\n             iyy="0.0001" iyz="0" izz="0.0001"/>\n  </inertial>\n</link>\n\n<joint name="lidar_joint" type="fixed">\n  <parent link="base_link"/>\n  <child link="lidar_link"/>\n  <origin xyz="0 0 0.1" rpy="0 0 0"/>\n</joint>\n\n<gazebo reference="lidar_link">\n  <sensor name="lidar" type="gpu_lidar">\n    <always_on>true</always_on>\n    <update_rate>10</update_rate>\n    <lidar>\n      <scan>\n        <horizontal>\n          <samples>360</samples>\n          <resolution>1</resolution>\n          <min_angle>-3.14159</min_angle>\n          <max_angle>3.14159</max_angle>\n        </horizontal>\n      </scan>\n      <range>\n        <min>0.1</min>\n        <max>30.0</max>\n        <resolution>0.01</resolution>\n      </range>\n    </lidar>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"imu-sensor",children:"IMU Sensor"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="Adding IMU to URDF"',children:'<gazebo reference="base_link">\n  <sensor name="imu" type="imu">\n    <always_on>true</always_on>\n    <update_rate>100</update_rate>\n    <imu>\n      <angular_velocity>\n        <x>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>0.01</stddev>\n          </noise>\n        </x>\n        <y>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>0.01</stddev>\n          </noise>\n        </y>\n        <z>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>0.01</stddev>\n          </noise>\n        </z>\n      </angular_velocity>\n      <linear_acceleration>\n        <x>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>0.1</stddev>\n          </noise>\n        </x>\n        <y>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>0.1</stddev>\n          </noise>\n        </y>\n        <z>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>0.1</stddev>\n          </noise>\n        </z>\n      </linear_acceleration>\n    </imu>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"gazebo-plugins",children:"Gazebo Plugins"}),"\n",(0,r.jsx)(n.p,{children:"Plugins extend Gazebo functionality. Here are common plugin patterns:"}),"\n",(0,r.jsx)(n.h3,{id:"differential-drive-plugin",children:"Differential Drive Plugin"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="Add differential drive control"',children:'<gazebo>\n  <plugin filename="gz-sim-diff-drive-system"\n          name="gz::sim::systems::DiffDrive">\n    <left_joint>left_wheel_joint</left_joint>\n    <right_joint>right_wheel_joint</right_joint>\n    <wheel_separation>0.35</wheel_separation>\n    <wheel_radius>0.1</wheel_radius>\n    <odom_publish_frequency>50</odom_publish_frequency>\n    <topic>cmd_vel</topic>\n  </plugin>\n</gazebo>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"joint-state-publisher",children:"Joint State Publisher"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="Publish joint states"',children:'<gazebo>\n  <plugin filename="gz-sim-joint-state-publisher-system"\n          name="gz::sim::systems::JointStatePublisher">\n    <joint_name>left_wheel_joint</joint_name>\n    <joint_name>right_wheel_joint</joint_name>\n  </plugin>\n</gazebo>\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"exercise-1-build-your-first-gazebo-world",children:"Exercise 1: Build Your First Gazebo World"}),"\n",(0,r.jsxs)(n.admonition,{title:"Exercise 1: Create a Simple Warehouse World",type:"tip",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Objective"}),": Build a Gazebo world with obstacles for robot navigation testing."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Time Estimate"}),": 45 minutes"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Steps"}),":"]}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Create a new SDF file named ",(0,r.jsx)(n.code,{children:"warehouse.sdf"})]}),"\n",(0,r.jsx)(n.li,{children:"Add a ground plane with gray material"}),"\n",(0,r.jsx)(n.li,{children:"Add directional lighting (sun)"}),"\n",(0,r.jsx)(n.li,{children:"Add at least 4 box obstacles of different sizes"}),"\n",(0,r.jsx)(n.li,{children:"Add at least 2 cylinder obstacles (representing pillars)"}),"\n",(0,r.jsxs)(n.li,{children:["Save and launch with ",(0,r.jsx)(n.code,{children:"gz sim warehouse.sdf"})]}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Starter Template"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.9">\n  <world name="warehouse">\n    \x3c!-- Add physics configuration --\x3e\n\n    \x3c!-- Add lighting --\x3e\n\n    \x3c!-- Add ground plane --\x3e\n\n    \x3c!-- Add obstacle 1: Large box (2m x 1m x 1m) at position (3, 2, 0.5) --\x3e\n\n    \x3c!-- Add more obstacles... --\x3e\n\n  </world>\n</sdf>\n'})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Expected Result"}),": A Gazebo window showing a warehouse-like environment with scattered obstacles suitable for navigation testing."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Success Criteria"}),":"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"World loads without errors"}),"\n",(0,r.jsx)(n.li,{children:"Ground plane is visible"}),"\n",(0,r.jsx)(n.li,{children:"All obstacles are positioned correctly"}),"\n",(0,r.jsx)(n.li,{children:"Scene is properly lit"}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"exercise-2-create-a-two-wheeled-robot",children:"Exercise 2: Create a Two-Wheeled Robot"}),"\n",(0,r.jsxs)(n.admonition,{title:"Exercise 2: Build a Differential Drive Robot",type:"tip",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Objective"}),": Create a complete robot model with differential drive."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Time Estimate"}),": 60 minutes"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Steps"}),":"]}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Create a URDF file with base_link, two wheels, and a caster"}),"\n",(0,r.jsx)(n.li,{children:"Add proper inertial properties to all links"}),"\n",(0,r.jsx)(n.li,{children:"Add a differential drive Gazebo plugin"}),"\n",(0,r.jsx)(n.li,{children:"Spawn the robot in an empty world"}),"\n",(0,r.jsxs)(n.li,{children:["Control the robot using ",(0,r.jsx)(n.code,{children:"gz topic -t /cmd_vel"})]}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Testing Command"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Publish velocity command\ngz topic -t /cmd_vel -m gz.msgs.Twist -p 'linear: {x: 0.5}, angular: {z: 0.3}'\n"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Expected Result"}),": Robot moves forward while turning, demonstrating successful differential drive control."]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Problem"}),(0,r.jsx)(n.th,{children:"Cause"}),(0,r.jsx)(n.th,{children:"Solution"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Robot falls through floor"}),(0,r.jsx)(n.td,{children:"Missing collision geometry"}),(0,r.jsxs)(n.td,{children:["Add ",(0,r.jsx)(n.code,{children:"<collision>"})," to ground"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Robot explodes on spawn"}),(0,r.jsx)(n.td,{children:"Overlapping collisions"}),(0,r.jsx)(n.td,{children:"Adjust spawn position"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Wheels don't turn"}),(0,r.jsx)(n.td,{children:"Joint axis incorrect"}),(0,r.jsxs)(n.td,{children:["Check ",(0,r.jsx)(n.code,{children:"<axis>"})," direction"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"No sensor data"}),(0,r.jsx)(n.td,{children:"Plugin not loaded"}),(0,r.jsx)(n.td,{children:"Verify plugin filename"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Slow simulation"}),(0,r.jsx)(n.td,{children:"Step size too small"}),(0,r.jsxs)(n.td,{children:["Increase ",(0,r.jsx)(n.code,{children:"max_step_size"})]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"debugging-commands",children:"Debugging Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# List all topics\ngz topic -l\n\n# Echo a topic\ngz topic -e -t /world/default/model/robot/joint_state\n\n# Get model info\ngz model -m my_robot --pose\n\n# Check simulation stats\ngz stats\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"In this chapter, you learned:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Installation"}),": Set up Gazebo Harmonic with ROS 2 Humble"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Architecture"}),": Server, GUI, plugins, and transport system"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SDF Worlds"}),": Create environments with physics, lighting, and obstacles"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Robot Models"}),": Build URDF robots with proper inertial properties"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sensors"}),": Add cameras, LiDAR, and IMU with noise models"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Plugins"}),": Use differential drive and joint state publishers"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["These fundamentals prepare you for the next chapter: ",(0,r.jsx)(n.a,{href:"/docs/module-2/gazebo-ros2-integration",children:"Gazebo-ROS 2 Integration"}),", where you'll connect your simulations to ROS 2."]}),"\n",(0,r.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://gazebosim.org/docs/harmonic",children:"Gazebo Harmonic Documentation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"http://sdformat.org/spec",children:"SDF Format Specification"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"http://wiki.ros.org/urdf/Tutorials",children:"URDF Tutorials"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://gazebosim.org/api/sim/8/namespacegz_1_1sim_1_1systems.html",children:"Gazebo Sim Plugins"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var s=i(6540);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);