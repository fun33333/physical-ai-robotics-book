"use strict";(globalThis.webpackChunkbook_website=globalThis.webpackChunkbook_website||[]).push([[2478],{2399:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"module-1/ros2-fundamentals","title":"ROS 2 Fundamentals","description":"Introduction to ROS 2 architecture, installation, workspace setup, and core concepts.","source":"@site/docs/module-1/ros2-fundamentals.md","sourceDirName":"module-1","slug":"/module-1/ros2-fundamentals","permalink":"/physical-ai-robotics-book/docs/module-1/ros2-fundamentals","draft":false,"unlisted":false,"editUrl":"https://github.com/fun33333/physical-ai-robotics-book/tree/main/book-website/docs/module-1/ros2-fundamentals.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"ROS 2 Fundamentals","sidebar_position":2,"description":"Introduction to ROS 2 architecture, installation, workspace setup, and core concepts."},"sidebar":"tutorialSidebar","previous":{"title":"Module 1: The Robotic Nervous System (ROS 2)","permalink":"/physical-ai-robotics-book/docs/module-1/"},"next":{"title":"Nodes, Topics & Services","permalink":"/physical-ai-robotics-book/docs/module-1/ros2-nodes-topics-services"}}');var r=s(4848),t=s(8453);const l={title:"ROS 2 Fundamentals",sidebar_position:2,description:"Introduction to ROS 2 architecture, installation, workspace setup, and core concepts."},o="ROS 2 Fundamentals",c={},a=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"ROS 2 Architecture",id:"ros-2-architecture",level:2},{value:"Why ROS 2?",id:"why-ros-2",level:3},{value:"The DDS Middleware",id:"the-dds-middleware",level:3},{value:"Installation",id:"installation",level:2},{value:"Installing ROS 2 Humble",id:"installing-ros-2-humble",level:3},{value:"Verify Installation",id:"verify-installation",level:3},{value:"Workspace Setup",id:"workspace-setup",level:2},{value:"Understanding Workspaces",id:"understanding-workspaces",level:3},{value:"Create Your Workspace",id:"create-your-workspace",level:3},{value:"Create Your First Package",id:"create-your-first-package",level:3},{value:"Your First ROS 2 Node",id:"your-first-ros-2-node",level:2},{value:"Essential CLI Tools",id:"essential-cli-tools",level:2},{value:"Node Introspection",id:"node-introspection",level:3},{value:"Topic Introspection",id:"topic-introspection",level:3},{value:"Interface Inspection",id:"interface-inspection",level:3},{value:"Running and Managing Nodes",id:"running-and-managing-nodes",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:2},{value:"Common QoS Profiles",id:"common-qos-profiles",level:3},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Exercise 1: Create a Subscriber Node",id:"exercise-1-create-a-subscriber-node",level:2},{value:"Exercise 2: Explore with CLI Tools",id:"exercise-2-explore-with-cli-tools",level:2},{value:"Summary",id:"summary",level:2},{value:"Further Reading",id:"further-reading",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ros-2-fundamentals",children:"ROS 2 Fundamentals"})}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 represents a significant evolution from its predecessor, designed from the ground up for real-time systems, multi-robot scenarios, and production deployments. This chapter covers the foundational concepts you need to understand before diving into more advanced topics."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"In this section, you will:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Install ROS 2 Humble on Ubuntu 22.04"}),"\n",(0,r.jsx)(n.li,{children:"Understand the DDS middleware architecture"}),"\n",(0,r.jsx)(n.li,{children:"Set up your first ROS 2 workspace"}),"\n",(0,r.jsx)(n.li,{children:"Create and build packages with colcon"}),"\n",(0,r.jsx)(n.li,{children:"Use essential CLI tools for introspection"}),"\n",(0,r.jsx)(n.li,{children:"Configure Quality of Service (QoS) policies"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"Before starting, ensure you have:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ubuntu 22.04 LTS (native or WSL2 on Windows)"}),"\n",(0,r.jsx)(n.li,{children:"Basic terminal familiarity (cd, ls, sudo)"}),"\n",(0,r.jsx)(n.li,{children:"Python 3.10+ installed"}),"\n",(0,r.jsx)(n.li,{children:"At least 10GB free disk space"}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"WSL2 Users",type:"info",children:(0,r.jsx)(n.p,{children:"ROS 2 works well in WSL2. For GUI applications (rviz2, rqt), install an X server like VcXsrv or use WSLg on Windows 11."})}),"\n",(0,r.jsx)(n.h2,{id:"ros-2-architecture",children:"ROS 2 Architecture"}),"\n",(0,r.jsx)(n.h3,{id:"why-ros-2",children:"Why ROS 2?"}),"\n",(0,r.jsx)(n.p,{children:"ROS 1 served the robotics community well for over a decade, but it had limitations:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"ROS 1 Limitation"}),(0,r.jsx)(n.th,{children:"ROS 2 Solution"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Single Master (roscore)"}),(0,r.jsx)(n.td,{children:"Decentralized discovery"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"No real-time support"}),(0,r.jsx)(n.td,{children:"Real-time capable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Linux only"}),(0,r.jsx)(n.td,{children:"Cross-platform (Linux, Windows, macOS)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Limited security"}),(0,r.jsx)(n.td,{children:"Built-in DDS security"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Single-robot focus"}),(0,r.jsx)(n.td,{children:"Multi-robot native"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"the-dds-middleware",children:"The DDS Middleware"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 uses Data Distribution Service (DDS) as its communication layer. DDS is an industry standard for real-time, distributed systems used in aerospace, defense, and financial trading."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Your Application                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                      ROS 2 API                          \u2502\n\u2502              (rclpy, rclcpp, rcl)                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                    RMW Layer                            \u2502\n\u2502           (ROS Middleware Interface)                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                   DDS Implementation                     \u2502\n\u2502        (Fast DDS, Cyclone DDS, Connext)                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key DDS concepts:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Domain"}),": Logical network partition (default: 0)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Participant"}),": An application in the DDS network"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Topic"}),": Named data channel with specific type"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"QoS"}),": Quality of Service policies for reliability, history, etc."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Default DDS",type:"tip",children:(0,r.jsxs)(n.p,{children:["ROS 2 Humble uses Fast DDS by default. You can switch implementations by setting ",(0,r.jsx)(n.code,{children:"RMW_IMPLEMENTATION"})," environment variable."]})}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.h3,{id:"installing-ros-2-humble",children:"Installing ROS 2 Humble"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 Humble Hawksbill is the current LTS release, supported until May 2027."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 1: Set up sources"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:'# Enable Universe repository\nsudo apt install software-properties-common\nsudo add-apt-repository universe\n\n# Add ROS 2 GPG key\nsudo apt update && sudo apt install curl -y\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg\n\n# Add repository to sources list\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 2: Install ROS 2"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:"sudo apt update\nsudo apt upgrade\n\n# Desktop install (recommended) - includes rviz2, rqt, demos\nsudo apt install ros-humble-desktop\n\n# Or minimal install (no GUI tools)\n# sudo apt install ros-humble-ros-base\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 3: Source the setup file"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:'# Source ROS 2 for current terminal\nsource /opt/ros/humble/setup.bash\n\n# Add to .bashrc for automatic sourcing\necho "source /opt/ros/humble/setup.bash" >> ~/.bashrc\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 4: Install development tools"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:"sudo apt install python3-colcon-common-extensions python3-rosdep python3-vcstool\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 5: Initialize rosdep"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:"sudo rosdep init\nrosdep update\n"})}),"\n",(0,r.jsx)(n.h3,{id:"verify-installation",children:"Verify Installation"}),"\n",(0,r.jsx)(n.p,{children:"Test your installation with the demo nodes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal 1"',children:"ros2 run demo_nodes_cpp talker\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal 2"',children:"ros2 run demo_nodes_cpp listener\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Expected Output:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'[INFO] [talker]: Publishing: "Hello World: 0"\n[INFO] [talker]: Publishing: "Hello World: 1"\n...\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[INFO] [listener]: I heard: [Hello World: 0]\n[INFO] [listener]: I heard: [Hello World: 1]\n...\n"})}),"\n",(0,r.jsx)(n.p,{children:"If you see messages being published and received, congratulations! ROS 2 is working."}),"\n",(0,r.jsx)(n.h2,{id:"workspace-setup",children:"Workspace Setup"}),"\n",(0,r.jsx)(n.h3,{id:"understanding-workspaces",children:"Understanding Workspaces"}),"\n",(0,r.jsx)(n.p,{children:"A ROS 2 workspace is a directory containing packages you're developing. The structure is:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ros2_ws/                    # Workspace root\n\u251c\u2500\u2500 src/                    # Source code (your packages)\n\u2502   \u251c\u2500\u2500 package_1/\n\u2502   \u2514\u2500\u2500 package_2/\n\u251c\u2500\u2500 build/                  # Build artifacts (auto-generated)\n\u251c\u2500\u2500 install/                # Installed packages (auto-generated)\n\u2514\u2500\u2500 log/                    # Build logs (auto-generated)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"create-your-workspace",children:"Create Your Workspace"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:"# Create workspace directory\nmkdir -p ~/ros2_ws/src\ncd ~/ros2_ws\n\n# Build empty workspace (creates build, install, log)\ncolcon build\n\n# Source the workspace\nsource install/setup.bash\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Source Order Matters",type:"warning",children:(0,r.jsxs)(n.p,{children:["Always source ROS 2 first (",(0,r.jsx)(n.code,{children:"/opt/ros/humble/setup.bash"}),"), then your workspace (",(0,r.jsx)(n.code,{children:"install/setup.bash"}),"). Your workspace overlays the base installation."]})}),"\n",(0,r.jsx)(n.h3,{id:"create-your-first-package",children:"Create Your First Package"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 supports Python and C++ packages. Let's create a Python package:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:"cd ~/ros2_ws/src\n\n# Create package with dependencies\nros2 pkg create --build-type ament_python my_first_package \\\n    --dependencies rclpy std_msgs\n"})}),"\n",(0,r.jsx)(n.p,{children:"This creates the following structure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"my_first_package/\n\u251c\u2500\u2500 my_first_package/\n\u2502   \u2514\u2500\u2500 __init__.py\n\u251c\u2500\u2500 resource/\n\u2502   \u2514\u2500\u2500 my_first_package\n\u251c\u2500\u2500 test/\n\u2502   \u251c\u2500\u2500 test_copyright.py\n\u2502   \u251c\u2500\u2500 test_flake8.py\n\u2502   \u2514\u2500\u2500 test_pep257.py\n\u251c\u2500\u2500 package.xml              # Package metadata and dependencies\n\u2514\u2500\u2500 setup.py                 # Python package configuration\n"})}),"\n",(0,r.jsx)(n.h2,{id:"your-first-ros-2-node",children:"Your First ROS 2 Node"}),"\n",(0,r.jsx)(n.p,{children:"Let's create a simple publisher node that sends messages."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 1: Create the node file"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'title="my_first_package/my_publisher.py"',children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\n\nclass MinimalPublisher(Node):\n    \"\"\"A minimal ROS 2 publisher node.\"\"\"\n\n    def __init__(self):\n        # Initialize the node with name 'minimal_publisher'\n        super().__init__('minimal_publisher')\n\n        # Create publisher on 'topic' with queue size 10\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n\n        # Create timer that calls callback every 0.5 seconds\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.count = 0\n\n        self.get_logger().info('Publisher node started')\n\n    def timer_callback(self):\n        \"\"\"Publish a message on each timer tick.\"\"\"\n        msg = String()\n        msg.data = f'Hello World: {self.count}'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\n        self.count += 1\n\n\ndef main(args=None):\n    # Initialize ROS 2 communication\n    rclpy.init(args=args)\n\n    # Create and spin the node\n    node = MinimalPublisher()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        # Clean shutdown\n        node.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 2: Register the entry point"})}),"\n",(0,r.jsxs)(n.p,{children:["Edit ",(0,r.jsx)(n.code,{children:"setup.py"})," to add the console script:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'title="setup.py (entry_points section)"',children:"entry_points={\n    'console_scripts': [\n        'my_publisher = my_first_package.my_publisher:main',\n    ],\n},\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 3: Build and run"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:"cd ~/ros2_ws\ncolcon build --packages-select my_first_package\nsource install/setup.bash\nros2 run my_first_package my_publisher\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Expected Output:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'[INFO] [minimal_publisher]: Publisher node started\n[INFO] [minimal_publisher]: Publishing: "Hello World: 0"\n[INFO] [minimal_publisher]: Publishing: "Hello World: 1"\n[INFO] [minimal_publisher]: Publishing: "Hello World: 2"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"essential-cli-tools",children:"Essential CLI Tools"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 provides powerful command-line tools for introspection and debugging."}),"\n",(0,r.jsx)(n.h3,{id:"node-introspection",children:"Node Introspection"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:"# List all running nodes\nros2 node list\n\n# Get info about a specific node\nros2 node info /minimal_publisher\n"})}),"\n",(0,r.jsx)(n.h3,{id:"topic-introspection",children:"Topic Introspection"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:"# List all topics\nros2 topic list\n\n# Show topic type\nros2 topic info /topic\n\n# Echo messages on a topic\nros2 topic echo /topic\n\n# Publish a message from CLI\nros2 topic pub /topic std_msgs/msg/String \"data: 'Hello from CLI'\"\n\n# Check publishing rate\nros2 topic hz /topic\n"})}),"\n",(0,r.jsx)(n.h3,{id:"interface-inspection",children:"Interface Inspection"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:"# List all message types\nros2 interface list\n\n# Show message definition\nros2 interface show std_msgs/msg/String\n\n# Show package interfaces\nros2 interface package std_msgs\n"})}),"\n",(0,r.jsx)(n.h3,{id:"running-and-managing-nodes",children:"Running and Managing Nodes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:"# Run a node\nros2 run <package_name> <executable_name>\n\n# Run with parameters\nros2 run <package_name> <executable_name> --ros-args -p param_name:=value\n\n# Run with remapping\nros2 run <package_name> <executable_name> --ros-args -r old_topic:=new_topic\n"})}),"\n",(0,r.jsx)(n.h2,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,r.jsx)(n.p,{children:"QoS policies control communication behavior. Key policies include:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Policy"}),(0,r.jsx)(n.th,{children:"Options"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Reliability"})}),(0,r.jsx)(n.td,{children:"RELIABLE / BEST_EFFORT"}),(0,r.jsx)(n.td,{children:"Guarantee delivery or drop"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Durability"})}),(0,r.jsx)(n.td,{children:"VOLATILE / TRANSIENT_LOCAL"}),(0,r.jsx)(n.td,{children:"Keep data for late joiners"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"History"})}),(0,r.jsx)(n.td,{children:"KEEP_LAST(n) / KEEP_ALL"}),(0,r.jsx)(n.td,{children:"How much history to store"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Depth"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Queue size for KEEP_LAST"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"common-qos-profiles",children:"Common QoS Profiles"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'title="QoS Examples"',children:"from rclpy.qos import QoSProfile, ReliabilityPolicy, HistoryPolicy\n\n# Sensor data (best effort, small queue)\nsensor_qos = QoSProfile(\n    reliability=ReliabilityPolicy.BEST_EFFORT,\n    history=HistoryPolicy.KEEP_LAST,\n    depth=5\n)\n\n# Reliable communication (guaranteed delivery)\nreliable_qos = QoSProfile(\n    reliability=ReliabilityPolicy.RELIABLE,\n    history=HistoryPolicy.KEEP_LAST,\n    depth=10\n)\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"QoS Compatibility",type:"warning",children:(0,r.jsx)(n.p,{children:"Publisher and subscriber QoS must be compatible. A RELIABLE subscriber cannot connect to a BEST_EFFORT publisher."})}),"\n",(0,r.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,r.jsx)(n.p,{children:"Important ROS 2 environment variables:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Purpose"}),(0,r.jsx)(n.th,{children:"Example"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ROS_DOMAIN_ID"})}),(0,r.jsx)(n.td,{children:"Network partition"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"export ROS_DOMAIN_ID=42"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ROS_LOCALHOST_ONLY"})}),(0,r.jsx)(n.td,{children:"Disable network"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"export ROS_LOCALHOST_ONLY=1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RMW_IMPLEMENTATION"})}),(0,r.jsx)(n.td,{children:"DDS selection"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RCUTILS_COLORIZED_OUTPUT"})}),(0,r.jsx)(n.td,{children:"Colored logs"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"export RCUTILS_COLORIZED_OUTPUT=1"})})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"exercise-1-create-a-subscriber-node",children:"Exercise 1: Create a Subscriber Node"}),"\n",(0,r.jsxs)(n.admonition,{title:"Exercise 1: Create a Subscriber Node",type:"tip",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Objective"}),": Complete the publisher-subscriber pair by creating a subscriber."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Time Estimate"}),": 20 minutes"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Steps"}),":"]}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["In the same package, create ",(0,r.jsx)(n.code,{children:"my_subscriber.py"}),":"]}),"\n"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'title="my_first_package/my_subscriber.py"',children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\n\nclass MinimalSubscriber(Node):\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        # TODO: Create a subscription to 'topic'\n        # Hint: use self.create_subscription(String, 'topic', callback, 10)\n        pass\n\n    def listener_callback(self, msg):\n        # TODO: Log the received message\n        pass\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = MinimalSubscriber()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n"})}),(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["Add the entry point to ",(0,r.jsx)(n.code,{children:"setup.py"})]}),"\n",(0,r.jsxs)(n.li,{children:["Build with ",(0,r.jsx)(n.code,{children:"colcon build"})]}),"\n",(0,r.jsx)(n.li,{children:"Run publisher in one terminal, subscriber in another"}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Expected Result"}),": Subscriber prints messages from publisher:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'[INFO] [minimal_subscriber]: I heard: "Hello World: 0"\n[INFO] [minimal_subscriber]: I heard: "Hello World: 1"\n'})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Hints"}),":"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The callback receives a message object with ",(0,r.jsx)(n.code,{children:".data"})," attribute"]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"self.get_logger().info()"})," for logging"]}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"exercise-2-explore-with-cli-tools",children:"Exercise 2: Explore with CLI Tools"}),"\n",(0,r.jsxs)(n.admonition,{title:"Exercise 2: CLI Exploration",type:"tip",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Objective"}),": Use ROS 2 CLI tools to inspect the running system."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Time Estimate"}),": 15 minutes"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Steps"}),":"]}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Start the publisher node"}),"\n",(0,r.jsxs)(n.li,{children:["In another terminal, use these commands:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 node list"})," - Find your node"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 topic list"})," - Find the topic"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 topic info /topic"})," - Check the message type"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 topic echo /topic"})," - See live messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 topic hz /topic"})," - Measure publish rate"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Publish a message from CLI while subscriber is running"}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Expected Result"}),": You understand how to inspect any ROS 2 system."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Challenge"}),": Can you change the publish rate using ",(0,r.jsx)(n.code,{children:"ros2 topic hz"})," to verify your timer is working correctly?"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"In this chapter, you learned:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ROS 2 architecture"}),": DDS-based middleware with decentralized discovery"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Installation"}),": Setting up ROS 2 Humble on Ubuntu 22.04"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Workspaces"}),": Creating and building packages with colcon"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Node creation"}),": Writing Python nodes with publishers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CLI tools"}),": Introspecting nodes, topics, and messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"QoS"}),": Configuring communication reliability and history"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["These fundamentals are the building blocks for everything that follows. In the next chapter, you'll dive deeper into ",(0,r.jsx)(n.a,{href:"/docs/module-1/ros2-nodes-topics-services",children:"Nodes, Topics & Services"})," to master the core communication patterns."]}),"\n",(0,r.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.ros.org/en/humble/",children:"ROS 2 Documentation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.omg.org/spec/DDS/",children:"DDS Specification"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://design.ros2.org/",children:"ROS 2 Design Articles"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://colcon.readthedocs.io/",children:"colcon Documentation"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var i=s(6540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);